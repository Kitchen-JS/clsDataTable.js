<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/dist/clsDataTable.css" rel="stylesheet">
</head>
<body>

    <button class="changeData" style="margin: 1px; margin-bottom: 2rem; border: 1px solid #000; border-radius: 7px; padding: 8px; background-color:grey; cursor: pointer; color: #fff; font-weight: bold;">Change Data</button>

    <div class="cntr"></div>
    
</body>
<script src="GenerateJsonData.js"></script>
<script src="clsDataTable.js"></script>
<script>

    let dt = new clsDataTable(
    {
        container: document.querySelector('.cntr'),
        altRowColor: true,
        sort: true,
        freezeHeader: true,
        includeFooter: true,
        // rowHeight: '10rem',
        // rowHeightMin: '10rem',
        // rowHeightMax: '10rem',
        // colWidth: '10rem',
        // colWidthMin: '10rem',
        // colWidthMax: '10rem',
        keyMap: {
            0: {
                title: 'Foo a',
                width: '10rem',
                minwidth: '10rem',
                maxwidth: '10rem',
                render: (data) =>
                {
                    let btn = document.createElement('button');
                    //btn.classList.add('border', 'w-full', 'rounded', 'bg-greyLite');
                    //btn.style = 'border: 1px solid';
                    btn.innerHTML = 'Bob';
                    btn.value = data;
                    btn.addEventListener('click', () =>
                    {
                        console.log('Bob Button Pushed', btn.value);
                    });

                    return btn;
                },
                hidden: false
            },
            'b': {
                title: 'Foo b',
                render: (data) =>
                {
                    data = data.substring(0, 3);
                    return data;
                },
                hidden: false
            },
            2: {
                hidden: true
            },
            'e': {
                render: (data) =>
                {
                    let p = document.createElement('p');
                    p.innerHTML = data.substring(0, 3);
                    return p;
                },
                hidden: false
            }
        }
    });

    // numCols, numRows,
    // dType: bare, keyed
    // rType: string, json
    let jsonData = GenerateJsonData(5, 8, 'keyed', 'json');
    
    dt.setJsonData(jsonData);

    document.querySelector('.changeData').addEventListener('click', () =>
    {
        jsonData = GenerateJsonData(40, 300, 'keyed', 'json');
        dt.setJsonData(jsonData);
    });

    // dt.setJsonData('[[{"a":"Pellentesque"},{"b":"porttitor"},{"c":"libero"},{"d":"fermentum"},{"e":"tincidunt ex non est tempus"}],[{"a":"massa"},{"b":"libero"},{"c":"tincidunt feugiat in vulputate nisl"},{"d":"Pellentesque"},{"e":"libero"}],[{"a":"tincidunt ex non est tempus"},{"b":"tincidunt ex non est tempus"},{"c":"Pellentesque"},{"d":"fermentum"},{"e":"tincidunt feugiat in vulputate nisl"}],[{"a":"Pellentesque"},{"b":"Pellentesque"},{"c":"porttitor"},{"d":"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit"},{"e":"Pellentesque"}],[{"a":"porttitor"},{"b":"fermentum"},{"c":"porttitor"},{"d":"Pellentesque"},{"e":"Pellentesque"}],[{"a":"porttitor"},{"b":"libero"},{"c":"porttitor"},{"d":"tincidunt ex non est tempus"},{"e":"fermentum"}],[{"a":"libero"},{"b":"vulputate"},{"c":"feugiat"},{"d":"Etiam in consequat"},{"e":"feugiat"}],[{"a":"tincidunt feugiat in vulputate nisl"},{"b":"Quisque eu lorem elementum"},{"c":"Quisque eu lorem elementum"},{"d":"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit"},{"e":"feugiat"}],[{"a":"tincidunt feugiat in vulputate nisl"},{"b":"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit"},{"c":"libero"},{"d":"vulputate"},{"e":"Quisque eu lorem elementum"}],[{"a":"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit"},{"b":"tincidunt feugiat in vulputate nisl"},{"c":"massa"},{"d":"Quisque eu lorem elementum"},{"e":"Etiam in consequat"}]]');
    // dt.setJsonData('[["feugiat","libero","vulputate","libero","libero"],["vulputate","Pellentesque","Quisque eu lorem elementum","fermentum","Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit"],["porttitor","Etiam in consequat","tincidunt ex non est tempus","vulputate","fermentum"],["porttitor","feugiat","Pellentesque","Quisque eu lorem elementum","libero"],["tincidunt ex non est tempus","porttitor","tincidunt feugiat in vulputate nisl","libero","Pellentesque"],["vulputate","vulputate","tincidunt feugiat in vulputate nisl","Quisque eu lorem elementum","Pellentesque"],["porttitor","tincidunt ex non est tempus","Quisque eu lorem elementum","tincidunt ex non est tempus","vulputate"],["feugiat","feugiat","tincidunt feugiat in vulputate nisl","Etiam in consequat","vulputate"],["Pellentesque","feugiat","Pellentesque","Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit","porttitor"],["Etiam in consequat","libero","libero","massa","tincidunt ex non est tempus"]]');

</script>
</html>